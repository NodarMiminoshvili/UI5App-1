<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form"
>
    <Dialog
        id="itemFormDialog"
        title="{i18n>itemFormDialogTitle}"
        draggable="true"
        resizable="true"
        contentWidth="32rem"
        class="sapUiResponsivePadding"
    >
        <form:SimpleForm
            id="productForm"
            layout="ResponsiveGridLayout"
            editable="true"
            labelSpanXL="4"
            labelSpanL="4"
            labelSpanM="12"
            labelSpanS="12"
            adjustLabelSpan="false"
            emptySpanXL="0"
            emptySpanL="0"
            emptySpanM="0"
            columnsXL="2"
            columnsL="2"
            columnsM="1"
        >
            <form:content>
                <Label text="{i18n>name}" />
                <Input
                    id="nameInput"
                    placeholder="{i18n>itemFormInputPlaceholderForName}"
                    value="{
					path: 'appState>/newItem/Name',
					type: 'sap.ui.model.type.String',
					constraints: {
						minLength: 3,
						maxLength: 25
					}
                    }"
                    required="true"
                    valueLiveUpdate="true"
                />

                <Label text="{i18n>price}" />
                <Input
                    type="Number"
                    placeholder="{i18n>itemFormInputPlaceholderForPrice}"
                    value="{
                        path: 'appState>/newItem/Price',
                        type: 'sap.ui.model.type.Float',
                        constraints: { minimum: 1, maximum: 999999 }
                    }"
                    required="true"
                    valueLiveUpdate="true"
                />

                <Label text="{i18n>supplier}" />
                <Select
                    items="{/Suppliers}"
                    selectedKey="{appState>/newItem/Supplier}"
                >
                    <core:Item
                        key="{ID}"
                        text="{Name}"
                    />
                </Select>

                <Label text="{i18n>category}" />
                <Select
                    items="{/Categories}"
                    selectedKey="{appState>/newItem/Category}"
                >
                    <core:Item
                        key="{ID}"
                        text="{Name}"
                    />
                </Select>

                <Label text="{i18n>releaseDate}" />
                <DatePicker
                    id="itemFormDatePicker"
                    value="{
                        'path': 'appState>/newItem/ReleaseDate',
                        'type': 'sap.ui.model.type.Date'
                    }"
                    required="true"
                />

                <Label text="{i18n>rating}" />
                <RatingIndicator
                    editable="true"
                    value="{appState>/newItem/Rating}"
                />

                <Label text="{i18n>description}" />
                <TextArea
                    placeholder="{i18n>summaryText}"
                    value="{
					        path: 'appState>/newItem/Description',
					        type: 'sap.ui.model.type.String',
					        constraints: {
						                minLength: 3,
						                maxLength: 150
					                }
                    }"
                    required="true"
                    valueLiveUpdate="true"
                />
            </form:content>
        </form:SimpleForm>

        <beginButton>
            <Button
                id="saveNewItemButton"
                text="{i18n>saveButton}"
                type="Emphasized"
                press=".onSaveItem"
            />
        </beginButton>
        <endButton>
            <Button
                text="{i18n>cancelButton}"
                press=".onCancelItemCreation"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
